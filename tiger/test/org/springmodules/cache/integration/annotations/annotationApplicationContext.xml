<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd"
>

<beans>
    <bean id="autoproxy"
        class="org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator">
    </bean>

    <!-- Set up the Advisor for caching -->
    <bean id="cachingAttributeSource"
        class="org.springmodules.cache.annotations.AnnotationCachingAttributeSource">
    </bean>

    <bean id="listener"
        class="org.springmodules.cache.integration.KeyCollectionListener">
    </bean>

    <bean id="cachingInterceptor"
        class="org.springmodules.cache.interceptor.caching.CachingInterceptor">
        <property name="cacheProviderFacade" ref="cacheProvider" />
        <property name="cachingAttributeSource"
            ref="cachingAttributeSource" />
        <property name="entryStoredListener" ref="listener" />
    </bean>

    <bean id="cachingAttributeSourceAdvisor"
        class="org.springmodules.cache.interceptor.caching.CachingAttributeSourceAdvisor">
        <constructor-arg ref="cachingInterceptor" />
    </bean>

    <!-- Set up the Advisor for cache flushing -->
    <bean id="cacheFlushAttributeSource"
        class="org.springmodules.cache.annotations.AnnotationCacheFlushAttributeSource">
    </bean>

    <bean id="cacheFlushInterceptor"
        class="org.springmodules.cache.interceptor.flush.CacheFlushInterceptor">
        <property name="cacheProviderFacade" ref="cacheProvider" />
        <property name="cacheFlushAttributeSource"
            ref="cacheFlushAttributeSource" />
    </bean>

    <bean id="cacheFlushAttributeSourceAdvisor"
        class="org.springmodules.cache.interceptor.flush.CacheFlushAttributeSourceAdvisor">
        <constructor-arg ref="cacheFlushInterceptor" />
    </bean>

    <!-- Set up the objects to apply caching to -->
    <bean id="cacheable"
        class="org.springmodules.cache.annotations.CacheableBean">
        <property name="names">
            <list>
                <value>James Gosling</value>
            </list>
        </property>
    </bean>
</beans>
